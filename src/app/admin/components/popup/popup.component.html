<div 
  *ngIf="isVisible" 
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-black dark:bg-opacity-70"
  (click)="onClose()"
>
  <div 
    class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-2 max-w-4xl w-full max-h-[90vh] relative {{ popupClass }}"
    (click)="$event.stopPropagation()"
  >
    
    
    <h2 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">{{ title }}</h2>
    
    <div class="overflow-y-auto max-h-[70vh] space-y-2 pr-2">
      <ng-container 
        *ngIf="contentTemplate" 
        [ngTemplateOutlet]="contentTemplate"
        [ngTemplateOutletContext]="context"
      >
      </ng-container>
    </div>
  </div>
</div>